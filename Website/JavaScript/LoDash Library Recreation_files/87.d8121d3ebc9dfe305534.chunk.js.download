(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[87],{bQRv:function(t,n,e){"use strict";var o=e("sEfC"),a=e.n(o),r=e("vN+2"),i=e.n(r),s=e("hhPA"),l=e.n(s),c=e("BzM2"),h=e("bizM"),u=e("ydTQ"),y=e("dUu8"),d=e("Qn9s"),f=e("fw5G"),p=e.n(f);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,n){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(t,n)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function _defineProperty(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var b={internalUrl:"",displayUrl:""},L=l.a.createStore({name:"WebBrowserStore",mixins:[c.StateMixin.store],init:function init(){this.listenToMany(h.a),this.debouncedOnLoadCallback=a()(this.onLoadCallback.bind(this),2e3)},getInitialState:function getInitialState(){return{init:!1,nonce:0,history:[],messages:[],historyIndex:-1,loading:!1,onLoadCallback:i.a,location:b}},currentLocation:function currentLocation(){return this.state.history[this.state.historyIndex]},onClearHistory:function onClearHistory(){this.setState({init:!1,history:[],historyIndex:-1,location:b})},onRefresh:function onRefresh(){this.currentLocation()?this.setState({nonce:this.state.nonce+1,loading:!0,onLoadCallback:this.onLoadComplete(h.a.refresh)}):h.a.refresh.completed()},onClearMessageHistory:function onClearMessageHistory(){this.setState({messages:[]})},onReceiveMessage:function onReceiveMessage(t){this.setState(function _objectSpread(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?Object(arguments[n]):{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(n){_defineProperty(t,n,e[n])})}return t}({},this.state,{messages:_toConsumableArray(this.state.messages).concat([t])}))},onNavigateBack:function onNavigateBack(){var t=this.state.historyIndex-1;this.setState({historyIndex:t,location:this.state.history[t],nonce:this.state.nonce+1,messages:[],loading:!0,onLoadCallback:this.onLoadComplete(h.a.navigateBack)})},onLoad:function onLoad(t){if(void 0!==t){var n,e;if(!/localhost/.test(t)&&!/http/.test(t))"/"!==t[0]&&(t="/".concat(t)),this.state.location?(n=this.state.location.displayUrl.host(),e=this.state.location.displayUrl.port()):(n="localhost",e="8000"),t=e?"".concat(n,":").concat(e).concat(t):n+t;/^http.*/.test(t)||(t="http://".concat(t));var o=this.currentLocation(),a=this.displayUrlToLocation(t);o&&a.displayUrl.toString()===o.displayUrl.toString()||this.push(a),this.setState({location:a,nonce:this.state.nonce+1,messages:[],loading:!0,onLoadCallback:this.debouncedOnLoadCallback})}},onLoadCallback:function onLoadCallback(){this.onLoadComplete(h.a.load)(),this.state.init?y.a.run():this.setState({init:!0})},onPush:function onPush(t){var n=this.internalUrlToLocation(t);n.internalUrl.toString()!==this.state.location.internalUrl.toString()&&(this.push(n),this.setState({location:this.currentLocation()}))},push:function push(t){this.state.history=this.state.history.slice(0,this.state.historyIndex+1),this.state.history.push(t),this.state.historyIndex=this.state.history.length-1},onLoadComplete:function onLoadComplete(t){var n=this;return function(){t.completed(),n.setState({loading:!1})}},displayUrlToLocation:function displayUrlToLocation(t){return{displayUrl:new p.a(t),internalUrl:this._displayToInternalUrl(t)}},internalUrlToLocation:function internalUrlToLocation(t){return{internalUrl:new p.a(t),displayUrl:this._internalToDisplayUrl(t)}},_displayToInternalUrl:function _displayToInternalUrl(t){if(void 0===t)return"";var n=new p.a(t);return"localhost"!==n.host()&&""!==n.host()?t:u.a.interface.proxyUri(n)},_internalToDisplayUrl:function _internalToDisplayUrl(t){var n=new p.a(t),e=Object(d.b)();return e&&new RegExp(e).test(t)&&n.host("localhost"),n}});n.a=L}}]);
//# sourceMappingURL=87.d8121d3ebc9dfe305534.chunk.js.map