(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[391],{yZ2X:function(t,e,r){"use strict";r.r(e);var n=r("q1tI"),o=r.n(n),a=r("fhzG"),i=r.n(a),s=r("/MKj"),c=r("TSYQ"),u=r.n(c),p=r("BzM2"),l=(r("cqoY"),r("f0Jk"),r("zqu8")),d=r("eikI"),h=r("CWAm"),f=r("Z6NK"),m=r("Fd/6"),g=r("+gt8"),y=(r("+gav"),r("21f3")),b=r("GDib"),S=r("fjk1"),j=r("MLxE"),k=r("i3sr"),P=r("ydTQ"),v=r("bf6c"),_=r("givd"),A=r("SdBd");function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?Object(arguments[e]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){_defineProperty(t,e,r[e])})}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var w={showModal:_.c,trackSubmit:h.h,trackComplete:h.b},I=i()({displayName:"Projects",mixins:f.a.concat([p.StateMixin.connect(P.a)]),getInitialState:function getInitialState(){var t={type:"Brief",project:this.props.currentProject},e=_objectSpread({},this.props.currentProject.projectInformation.components,{Brief:t});return this.componentGrid=o.a.createRef(),{wall:null,components:e,progress:this.props.currentProjectProgress}},UNSAFE_componentWillMount:function UNSAFE_componentWillMount(){P.a.setController(this),P.a.setReduxReference(this.props.store),this.adapter=m.a.forProjectsWithComponents(this.state.components),this.adapter.controller=this,g.a.newAdapter(this.adapter)},componentDidMount:function componentDidMount(){this.updateWorkspace(),this.adapter.trigger("interface:ready"),this.adapter.extendCache()},componentDidUpdate:function componentDidUpdate(t,e){!e.workspaceIdle&&this.state.workspaceIdle&&this.props.showModal({type:"IdleWall"})},currentWorkspace:function currentWorkspace(){return this.props.currentProject.projectInformation.workspace},gridSetup:function gridSetup(t){0===this.state.progress.status&&void 0!==t.slots[25]&&t.expandSlotInDirection(25,"left")},updateWorkspace:function updateWorkspace(){var t=this;this.props.disabled||d.a.isAnon()||Object(v.a)({content:this.props.currentProject.projectInformation,userId:d.a.id()}).then(function(){t.adapter.trigger("godex:ready")}).catch(function(t){0})},componentsToHide:function componentsToHide(){return Object.keys(this.state.components).filter(function(t){return"Brief"!==t&&"WebBrowser"!==t})},revealComponents:function revealComponents(){var t=!0,e=!1,r=void 0;try{for(var n,o=this.componentsToHide()[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var a=n.value;this.componentGrid.current.expandSlotByName(a)}}catch(t){e=!0,r=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw r}}this.setState({grid:this.state.grid})},wall:function wall(){return d.a.isAnon()?null:this.props.courseInMaintenanace&&!d.a.isAdmin()?o.a.createElement(j.a,null,o.a.createElement(k.a,null)):this.state.wall?this.state.wall:null},initialSavepointSlug:function initialSavepointSlug(){return"".concat(this.props.currentProject.slug,"-initial")},finalSavepointSlug:function finalSavepointSlug(){return"".concat(this.props.currentProject.slug,"-final")},getWorkspaceSetupCommand:function getWorkspaceSetupCommand(){return null},clearWall:function clearWall(){this.setState({wall:null})},getAssessments:function getAssessments(){var t=this.props,e=t.currentProjectProgress;return t.currentProject.projectInformation.self_assessments.map(function(t){return _objectSpread({},t,{tasks:t.tasks.map(function(t){var r;return _objectSpread({},t,{done:null==e?void 0:null===(r=e.checklist)||void 0===r?void 0:r[t.task_key]})})})})},getTaskStatuses:function getTaskStatuses(t){return t.map(function(t){return t.tasks}).reduce(function(t,e){return _toConsumableArray(t).concat(_toConsumableArray(e))},[]).map(function(t){return!!t.done})},getWalkthroughYouTubeId:function getWalkthroughYouTubeId(){var t=this.props.currentProject.projectInformation;return t?t.walkthrough_youtube_id:null},render:function render(){var t=this.props,e=t.course,r=t.isPractice,n=t.programSlug||(e?e.slug:""),a={componentShouldBeDisabled:this.componentShouldBeDisabled,positionCueSignal:this.positionCueSignal},i=this.getAssessments(),s={readonly:!1,fileNavReady:!0,isProject:!0,disableLinting:this.props.isLintingDisabled,assessments:i},c={progress:this.props.currentProjectProgress,wall:this.wall(),contentItemTitle:this.props.currentProject.title,contentParentTitle:e?e.title:"",bugReportData:{course:n,skill:this.props.currentProject.slug}},p=u()({francine:!0});return o.a.createElement(l.a,null,o.a.createElement("div",{className:p,id:"workspace"},o.a.createElement(y.a,{exitPaths:this.props.exitPaths,workspace:this.currentWorkspace(),prerender:this.props.prerender,nolock:this.state.nolock,uploadSavepoints:this.state.uploadSavepoints,authoringMode:this.state.authoringMode,contentType:"project"}),o.a.createElement(b.a,{ref:this.componentGrid,components:this.state.components,adapter:this.adapter,helpers:a,modifiers:s,presenter:c,gridSetup:this.gridSetup,user:{isAnon:!1},contentItemType:"project"}),o.a.createElement(S.a,{disabled:this.componentShouldBeDisabled("Footer"),exitPaths:this.props.exitPaths,parentTitle:e?e.title:"",projectSlug:this.props.currentProject.slug,projectTitle:this.props.currentProject.title,walkthroughYouTubeId:this.getWalkthroughYouTubeId(),tasksDoneStatuses:this.getTaskStatuses(i),onProjectComplete:this.props.onProjectComplete,project:this.props.currentProject,isPractice:r,nolock:this.state.nolock})))}});e.default=Object(s.connect)(function mapStateToProps(t){return{isPro:t.currentUser.isPro,isPractice:Object(A.a)(t)}},w)(I)}}]);
//# sourceMappingURL=platform-scenes-project-legacy-projects.ef69a4844931de0ad86a.chunk.js.map