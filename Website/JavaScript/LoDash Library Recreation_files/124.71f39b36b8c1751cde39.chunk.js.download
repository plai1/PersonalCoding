(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[124],{"1aMd":function(e,t,a){"use strict";var r=a("E+oP"),n=a.n(r),i=a("Z0cm"),o=a.n(i),c=a("mwIZ"),s=a.n(c),l=a("DzJC"),u=a.n(l),d=a("iRAd"),p=a("TUVh"),m=a("gnvm"),f=a("QqFe"),y=a("q1tI"),b=a.n(y),_=a("24Ii"),v=a.n(_),h=a("xk4V"),g=a.n(h),S=a("TSYQ"),E=a.n(S),C=a("gtj7"),O=a("ev9x"),k=a("b0K7"),j=a("z9go"),I=a("tYyt"),P=a("hFGM"),w=a("NWss"),A=a("f0Wu"),N=a.n(A),F=a("DAui"),R=a("f8p9"),V=a("oHca"),x=a("1wI6"),T=a("5sab"),L=a("ANOs"),B="validationText__2V8IomQ7py3ImJSkR74lUL",z="tooltip__SfXUpCRO-J9ns7jIIcq-2",U="tipWrapper__2EqLYLfvCkkov8Czpsfpvc",D="tooltipTarget__2QEgWo1UnUfrI64N8g5a7R",G="infoIcon__1g_zfaxGIRIbEh291YxmGv",W="tooltipContents__2bqd9NtbRxq1kYIR2tCLhZ",q={password:L.a},H=function ValidationError(e){if(!e.validationError)return null;var t=q[e.fieldName];return t?b.a.createElement("div",{className:z},b.a.createElement(V.a,{focusable:!0,id:"".concat(e.fieldName,"-tooltip"),target:b.a.createElement("div",{className:D},b.a.createElement("span",{"aria-live":"assertive",className:B},e.validationError),b.a.createElement(x.a,{height:16,width:16,className:G})),position:V.b.BottomRight,tipClassName:U},b.a.createElement(T.a,{text:t,spacing:"tight",className:W}))):b.a.createElement("span",{"aria-live":"assertive",className:B},e.validationError)},Q={registrationContainer:"registrationContainer__1DWVArjxkRSHEqpISv3YfU",registrationContainerCompact:"registrationContainerCompact__3f5fD0mXckkhzC_gkXDQaJ",screenReaderOnly:"screenReaderOnly__2S7ruRxpd1VhnuyeMz0di2",submitButton:"submitButton__1syIjVGtZiGfg2aBWCcvkZ",submitButtonCompact:"submitButtonCompact__DTD3_nPUjcDW2juBilPyk",tos:"tos__2S7BNNliayxJrYfZEqHGOH",fieldset:"fieldset__2IcsxborktqVvm5FdfygAO",formCompact:"formCompact__Q6nQtda86q7aKdsfLQSvz",formGroupsCompact:"formGroupsCompact__1e0cWED9TSZNrITxnH3MoV",formGroupCompact:"formGroupCompact__225iYntNRtxkKn05IYqtJ1",inputCompact:"inputCompact__2Shf6uPLKjgQGwlRGM6u4D",validCheckmark:"validCheckmark__FINN8PBxaKyExgp8BuWaN",inputWrapper:"inputWrapper__1WcSn7pm4PiUUt2d3hgszk",hidden:"hidden__IE7yAQczIi7NG5Xaf2XMv",recaptchaError:"recaptchaError__2PRVQPBckCquoqnpNkolaI",formGroup:"formGroup__26lWN6IoN44keRivjjZbD7",padBottomIfNotEmpty:"padBottomIfNotEmpty__SRLk-qQ59lLzCQRc26yql","grecaptcha-badge":"grecaptcha-badge"};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_unsupportedIterableToArray(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){_defineProperty(e,t,a[t])})}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw i}}return a}(e,t)||_unsupportedIterableToArray(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var M=[{name:"email",label:w.emailLabel,type:"email",invalidMessage:"Please use a valid email address"},{name:"password",label:w.passwordLabel,type:"password",invalidMessage:"is not long enough",pattern:".{6,128}"}],K="/register/validate",Y="/register",J=function extractValidationErrors(e){var t=s()(e,"body.errors");return t&&Object.values(t).filter(function(e){return e})?Object.entries(t).reduce(function(e,t){var a=_slicedToArray(t,2),r=a[0],n=a[1];return _objectSpread({},e,{[r]:o()(n)?n[0]:n})},{}):null},Z=function(e){function RegistrationForm(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RegistrationForm);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(RegistrationForm)).call.apply(e,[this].concat(r)))).idPrefix="sign_up_form_",t.state={disabled:!1,recaptchaInstanceId:g()(),validationErrors:{},validatedFields:new Set([])},t.onRecapChange=function(e){t.submitForm(e)},t.onRecapExpire=function(){t.resetRecaptcha()},t.onSuccessfulValidation=function(e){t.setValidationErrorState({[e]:void 0}),t.setState(function(t){return{validatedFields:t.validatedFields.add(e)}})},t.onFailedValidation=function(e,a){t.setValidationErrorState({[e]:a}),t.setState(function(t){return t.validatedFields.delete(e),{validatedFields:t.validatedFields}})},t.onSubmissionFailedValidation=function(e){t.setValidationErrorState(e),t.setState(function(a){Object.keys(e).forEach(function(e){a.validatedFields.delete(e)}),t.setState({validatedFields:a.validatedFields})})},t.submitForm=function(e){v.a.post(Y).send(_objectSpread({},t.serialize(),{"g-recaptcha-response":e})).use(P.b).accept("json").then(function(e){var a=e.body;Object(j.pushDataLayerEvent)("user_sign_up"),t.setState({disabled:!1}),t.props.onSuccess(a)}).catch(function(e){var a=J(e.response);t.setState({disabled:!1}),a&&t.onSubmissionFailedValidation(a),t.resetRecaptcha()})},t.onSubmitInitialize=function(e){return e.preventDefault(),t.isValid()?(t.setState({disabled:!0}),v.a.post(K).send(t.serialize()).use(P.b).accept("json").then(function(){t.captcha.execute()}).catch(function(e){var a=J(e.response);a&&t.onSubmissionFailedValidation(a),t.setState({disabled:!1})})):null},t.genericClientSideValidityHandler=function(e,a){var r,n=a.target.validity.valueMissing,i=a.target.validity.valid;n?r="can't be blank":i||(r=M.find(function(t){return t.name===e}).invalidMessage),r?t.onFailedValidation(e,r):t.onSuccessfulValidation(e)},t.genericServerSideValidityHandler=u()(function(e,a){a.target.value?v.a.post(K).send({user:{[e]:a.target.value}}).use(P.b).accept("json").then(function(){t.onSuccessfulValidation(e)}).catch(function(a){var r=J(a.response);r&&r[e]?t.onFailedValidation(e,r[e]):t.onSuccessfulValidation(e)}):t.onFailedValidation(e,"can't be blank")},250),t.validateField=function(e,a){"password"===e?t.genericClientSideValidityHandler(a.target.name,a):t.genericServerSideValidityHandler(a.target.name,a)},t.onFieldBlur=function(e){e.persist();var a=t.serialize().user||{},r=a.email,i=void 0===r?"":r,o=a.password,c=void 0===o?"":o;n()(i)&&n()(c)||t.validateField(e.target.name,e)},t.onFieldKeyUp=function(e){e.persist();var a=e.target.name;t.state.validationErrors[a]&&t.validateField(e.target.name,e)},t.onSubmitClick=function(){Object(j.trackUserClick)({target:"create_account"})},t.setFormRef=function(e){t.form=e},t.setCaptchaRef=function(e){t.captcha=e},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(RegistrationForm,y["Component"]),function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(RegistrationForm,[{key:"setValidationErrorState",value:function setValidationErrorState(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setState(function(a){return _objectSpread({validationErrors:_objectSpread({},a.validationErrors,e)},t)})}},{key:"isValid",value:function isValid(){return!Object.values(this.state.validationErrors).filter(function(e){return e}).length}},{key:"serialize",value:function serialize(){return _toConsumableArray(this.form.elements).filter(function(e){return e.name}).reduce(function(e,t){var a=t.dataset.resource;return _objectSpread({},e,a?{[a]:_objectSpread({},e[a],{[t.name]:t.value})}:{[t.name]:t.value})},{})}},{key:"resetRecaptcha",value:function resetRecaptcha(){this.setState({recaptchaInstanceId:g()(),disabled:!1})}},{key:"render",value:function render(){var e=this,t=I.a.get("authenticity_token"),a=this.props,r=a.ctaText,n=a.currentPage,i=a.defaultValues,o=void 0===i?{email:"",password:""}:i,c=a.disableFieldset,s=a.hideOauth,l=a.hideRecaptchaInfo,u=a.hideSubmitButton,y=a.locationType,_=a.markValidatedFields,v=a.redirectUrl,h=a.submitButtonProps,g=a.theme,S=a.classNames,O=void 0===S?{}:S,k=a.isStudent,j="location/EXERCISE"===y,P=this.state.disabled,A=v&&Object(C.f)(v),V=E()("recaptcha-wrapper",{[Q.padBottomIfNotEmpty]:"compact"!==g});return b.a.createElement("div",{className:E()(Q.registrationContainer,{[Q.registrationContainerCompact]:"compact"===g})},b.a.createElement("form",{onSubmit:this.onSubmitInitialize,noValidate:!0,ref:this.setFormRef,method:"POST"},b.a.createElement("fieldset",{className:Q.fieldset,disabled:c},b.a.createElement("input",{name:"authenticity_token",type:"hidden",value:t}),b.a.createElement("input",{name:"coding_reminders_comms_timezone","data-resource":"user",type:"hidden",value:N.a.tz.guess()}),b.a.createElement("input",{name:"signing_up_from_exercise",type:"hidden",value:"".concat(j)}),k&&b.a.createElement("input",{name:"student_access",type:"hidden",value:1}),b.a.createElement("input",{name:"referring_page",type:"hidden",value:n}),b.a.createElement("input",{name:"redirect",type:"hidden",value:A}),b.a.createElement("div",{className:E()(Q.formGroups,{[Q.formGroupsCompact]:"compact"===g},O.formGroups)},M.map(function(t){return b.a.createElement(d.a,{key:"".concat(e.idPrefix).concat(t.name),htmlFor:"".concat(e.idPrefix).concat(t.name),label:t.label,className:E()(Q.formGroup,{[Q.formGroupCompact]:"compact"===g})},b.a.createElement(H,{fieldName:t.name,validationError:e.state.validationErrors[t.name]}),b.a.createElement("div",{className:Q.inputWrapper},b.a.createElement(p.a,{"aria-invalid":e.state.validationErrors[t.name]?"true":void 0,className:E()(Q.input,{[Q.inputCompact]:"compact"===g},O.input),"data-testid":"".concat(t.name,"-field"),htmlFor:"".concat(e.idPrefix).concat(t.name),name:t.name,type:t.type,onBlur:e.onFieldBlur,onKeyUp:e.onFieldKeyUp,required:!0,error:!!e.state.validationErrors[t.name],pattern:t.pattern,"data-resource":"user",defaultValue:o[t.name]}),_&&e.state.validatedFields.has(t.name)&&b.a.createElement(m.a,{name:"checkmark",className:Q.validCheckmark})))})),b.a.createElement("div",{className:V},this.state.validationErrors.recaptcha&&b.a.createElement("div",{className:Q.recaptchaError,"data-testid":"recaptcha-error"},this.state.validationErrors.recaptcha),b.a.createElement(F.a,{key:this.state.recaptchaInstanceId,publicKey:I.a.get("recaptcha_key"),size:"invisible",ref:this.setCaptchaRef,onChange:this.onRecapChange,onExpired:this.onRecapExpire})),b.a.createElement(f.a,_extends({},h,{onClick:this.onSubmitClick,type:"submit",className:E()(Q.submitButton,{[Q.submitButtonCompact]:"compact"===g,[Q.hidden]:u},O.submitButton),disabled:P,theme:"brand-purple",id:"".concat(this.idPrefix,"submit"),"data-testid":"registration-form-submit"}),r),!l&&b.a.createElement("p",{className:Q.tos,dangerouslySetInnerHTML:{__html:w.recaptchaTOS}}))),!s&&b.a.createElement(R.a,{signUp:!0,urlParams:{redirect:A}}))}}]),RegistrationForm}();Z.defaultProps={onSuccess:function redirectAfterLogin(e){var t=e.redirectTo,a=e.workerSupportApplicant;Object(O.g)(t)?window.location.assign(Object(C.f)(t||Object(k.J)())):window.location.assign(Object(C.f)(function getAfterLoginPath(e){var t=e.redirectUrl;return e.workerSupportApplicant?k.Cb:Object(k.fb)({redirectUrl:t,fromSignUpPage:!0})}({redirectUrl:t,workerSupportApplicant:a})))},submitButtonProps:{size:"large",theme:"brand-purple"},ctaText:w.createAccountCTA,isStudent:!1};t.a=Z},NWss:function(e){e.exports=JSON.parse('{"createAccountCTA":"Start coding now","createAccountComplete":"Account created. You\'re almost there!","emailLabel":"Email","passwordLabel":"Password","recaptchaTOS":"By signing up for Codecademy, you agree to Codecademy\'s <a href=\\"/terms\\">Terms of Service</a> & <a href=\\"/policy\\">Privacy Policy</a>."}')}}]);
//# sourceMappingURL=124.71f39b36b8c1751cde39.chunk.js.map